language: ko
chat:
  auto_reply: false

# ê¸°ë³¸ ë¦¬ë·° ì„¤ì •
reviews:
  profile: chill
  request_changes_workflow: false
  high_level_summary: true
  review_status: true
  collapse_empty_files: true
  auto_review:
    enabled: true
    ignore_title_keywords:
      - "WIP"
      - "DO NOT MERGE"
      - "DRAFT"
      - "ì‘ì—…ì¤‘"
      - "ì§„í–‰ì¤‘"
    drafts: false
    base_branches:
      - main
      - master
      - develop

auto_summarize:
  enabled: true

# í”„ë¡œì íŠ¸ êµ¬ì¡°ë³„ ê²€í†  ê·œì¹™
path_instructions:
  - path: "src/main/java/com/lunchchat/domain/member/**"
    instructions: |
      íšŒì› ë„ë©”ì¸ ê²€í†  ì‹œ ì¤‘ì ì‚¬í•­:
      - ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ ê²€ì¦
      - ë¡œê·¸ì¸ íƒ€ì…ë³„ ì²˜ë¦¬ ë¡œì§ ì¼ê´€ì„±
      - ëŒ€í•™/í•™ê³¼ ì •ë³´ ì—°ê´€ê´€ê³„ ìµœì í™”

  - path: "src/main/java/com/lunchchat/domain/chat_*/**"
    instructions: |
      ì±„íŒ… ê´€ë ¨ ë„ë©”ì¸ ê²€í†  ì‹œ ì¤‘ì ì‚¬í•­:
      - ë©”ì‹œì§€ ì²˜ë¦¬ ì„±ëŠ¥ ë° ë™ì‹œì„± ì´ìŠˆ
      - ì‹¤ì‹œê°„ í†µì‹  ìµœì í™” ë°©ì•ˆ
      - Redis ìºì‹± ì „ëµ ì ì ˆì„±

  - path: "src/main/java/com/lunchchat/domain/match/**"
    instructions: |
      ë§¤ì¹­ ì‹œìŠ¤í…œ ê²€í†  ì‹œ ì¤‘ì ì‚¬í•­:
      - ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ íš¨ìœ¨ì„±
      - ë™ì‹œ ë§¤ì¹­ ìš”ì²­ ì²˜ë¦¬
      - ë§¤ì¹­ ê²°ê³¼ ë°ì´í„° ì¼ê´€ì„±

  - path: "src/main/java/com/lunchchat/global/apiPayLoad/**"
    instructions: |
      API ì‘ë‹µ êµ¬ì¡° ê²€í†  ì‹œ ì¤‘ì ì‚¬í•­:
      - ì—ëŸ¬ ì½”ë“œ ì²´ê³„ ì¼ê´€ì„±
      - ì‘ë‹µ í˜•ì‹ í‘œì¤€í™” ì¤€ìˆ˜
      - ì˜ˆì™¸ ì²˜ë¦¬ ì™„ì „ì„±

  - path: "src/main/java/com/lunchchat/global/config/**"
    instructions: |
      ì„¤ì • í´ë˜ìŠ¤ ê²€í†  ì‹œ ì¤‘ì ì‚¬í•­:
      - Spring Boot 3.x ëª¨ë²” ì‚¬ë¡€ ì¤€ìˆ˜
      - ë³´ì•ˆ ì„¤ì • ê°•í™” ë°©ì•ˆ
      - ì„±ëŠ¥ ìµœì í™” ì„¤ì •

  - path: "src/main/resources/application*.yml"
    instructions: |
      ì„¤ì • íŒŒì¼ ê²€í†  ì‹œ ì¤‘ì ì‚¬í•­:
      - ë¯¼ê°ì •ë³´ ì™¸ë¶€í™” í™•ì¸
      - JPA/Hibernate ì„¤ì • ìµœì í™”
      - Redis ì—°ê²° ì„¤ì • ê²€ì¦

  - path: "**.java"
    instructions: |
      Java ì½”ë“œ ì „ë°˜ì  ê²€í† ì‚¬í•­:
      - Lombok ì ì ˆí•œ í™œìš©
      - Null Safety ë³´ì¥
      - Exception ì²˜ë¦¬ ì¼ê´€ì„±
      - ì„±ëŠ¥ ìµœì í™” ê¸°íšŒ

# ë¬´ì‹œí•  íŒŒì¼ë“¤
ignore:
  - "**.md"
  - "**.txt"
  - "**/build/**"
  - "**/target/**"
  - "**/.gradle/**"
  - "gradle/wrapper/**"
  - ".gitignore"
  - "gradlew*"
  - "Dockerfile"
  - "docker-compose.yml"

# í”„ë¡œì íŠ¸ íŠ¹í™” ê·œì¹™ë“¤
rules:
  # Java 17 + Spring Boot 3.x
  java:
    enabled: true
    version: 17
    prefer_lombok: true
    check_null_safety: true
    suggest_stream_api: true
    check_exception_handling: true

  spring:
    enabled: true
    version: "3.5.3"
    check_transaction_usage: true
    validate_rest_controllers: true
    check_security_configurations: true
    validate_jpa_relationships: true

  jpa:
    enabled: true
    check_lazy_loading: true
    validate_entity_relationships: true
    check_query_optimization: true
    detect_n_plus_one: true

  # ì±„íŒ… ì•± íŠ¹í™”
  websocket:
    enabled: true
    check_message_handling: true

  redis:
    enabled: true
    check_caching_strategy: true

# ì»¤ìŠ¤í…€ ì²´í¬ (í•µì‹¬ë§Œ)
custom_checks:
  - name: "í•œêµ­ì–´ ì£¼ì„ ê¶Œì¥"
    pattern: "//.*[a-zA-Z]{15,}"
    message: "ê¸´ ì˜ì–´ ì£¼ì„ì€ í•œêµ­ì–´ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤."
    severity: "suggestion"

  - name: "TODO ê´€ë¦¬"
    pattern: "TODO|FIXME|HACK"
    message: "TODO í•­ëª©ì€ GitHub ì´ìŠˆë¡œ ë“±ë¡í•˜ì—¬ ì¶”ì  ê´€ë¦¬í•˜ì„¸ìš”."
    severity: "warning"

  - name: "API ì‘ë‹µ í˜•ì‹ í™•ì¸"
    pattern: "return\\s+(?!ApiResponse)"
    message: "API ì‘ë‹µì€ ApiResponse.onSuccess() ë˜ëŠ” ApiResponse.onFailure()ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”."
    severity: "warning"
    files: "**/controller/**/*.java"

# ë¦¬ë·° ì¤‘ì  ì˜ì—­
focus_areas:
  - security          # ë³´ì•ˆ
  - performance       # ì„±ëŠ¥
  - maintainability   # ìœ ì§€ë³´ìˆ˜ì„±
  - consistency       # ì¼ê´€ì„±

# ì„±ëŠ¥ ì„ê³„ê°’
performance_thresholds:
  max_method_lines: 30
  max_class_lines: 300
  max_cyclomatic_complexity: 10
  max_parameters: 5

# íŒ€ í˜‘ì—…ì— ìœ ìš©í•œ ê¸°ëŠ¥ë“¤
# ë©”íŠ¸ë¦­ ë° ë¦¬í¬íŒ… - íŒ€ ì „ì²´ ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬
metrics:
  track_review_time: true              # ë¦¬ë·° ì†Œìš” ì‹œê°„ ì¶”ì 
  track_comment_resolution: true       # ì½”ë©˜íŠ¸ í•´ê²°ë¥  ì¶”ì   
  generate_reports: true               # ì£¼ê°„/ì›”ê°„ ë¦¬í¬íŠ¸ ìƒì„±
  track_code_quality_trends: true      # ì½”ë“œ í’ˆì§ˆ íŠ¸ë Œë“œ ë¶„ì„

# í•™ìŠµ ëª¨ë“œ - íŒ€ ì „ì²´ ì½”ë“œ ì¼ê´€ì„± í–¥ìƒ
learning:
  enabled: true                        # í”„ë¡œì íŠ¸ íŒ¨í„´ í•™ìŠµ
  track_patterns: true                 # ì½”ë”© íŒ¨í„´ ì¶”ì 
  suggest_improvements: true           # íŒ€ ì „ì²´ ê°œì„ ì‚¬í•­ ì œì•ˆ
  domain_specific_learning: true       # ë„ë©”ì¸ë³„ í•™ìŠµ

# ì•Œë¦¼ ì„¤ì • - íŒ€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ê°œì„ 
notifications:
  email:
    enabled: true                      # ì¤‘ìš”í•œ ë¦¬ë·° ì•Œë¦¼
  slack:
    enabled: false                     # í•„ìš”ì‹œ Slack ì—°ë™ ê°€ëŠ¥

# ë‹¤ì´ì–´ê·¸ë¨ ë° ì‹œê°í™” ê¸°ëŠ¥ ğŸ¯
diagrams:
  sequence_diagrams:
    enabled: true                      # ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ìë™ ìƒì„±
    auto_generate: true                # PR ìƒì„± ì‹œ ìë™ í¬í•¨
    focus_on_interactions: true        # ê°ì²´ ê°„ ìƒí˜¸ì‘ìš© ì¤‘ì  í‘œì‹œ
    include_async_flows: true          # ë¹„ë™ê¸° íë¦„ í¬í•¨ (ì±„íŒ…ì•± íŠ¹í™”)
  
  code_graph_analysis:
    enabled: true                      # ì½”ë“œ ê·¸ë˜í”„ ë¶„ì„
    show_dependencies: true            # ì˜ì¡´ì„± ê´€ê³„ í‘œì‹œ
    track_file_relationships: true     # íŒŒì¼ ê°„ ê´€ê³„ ì¶”ì 
    highlight_domain_boundaries: true  # ë„ë©”ì¸ ê²½ê³„ ê°•ì¡°

# ì‹œê°í™” ê°œì„  ì„¤ì •
visualization:
  include_architecture_insights: true  # ì•„í‚¤í…ì²˜ ì¸ì‚¬ì´íŠ¸ í¬í•¨
  show_data_flow: true                # ë°ì´í„° íë¦„ í‘œì‹œ
  highlight_critical_paths: true      # ì¤‘ìš”í•œ ê²½ë¡œ ê°•ì¡° (ì±„íŒ…, ë§¤ì¹­)
  domain_focused_diagrams: true       # ë„ë©”ì¸ë³„ ë‹¤ì´ì–´ê·¸ë¨ ìµœì í™”